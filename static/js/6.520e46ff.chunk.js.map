{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Nav/Nav.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Nav","handleLogout","auth","logout","getActiveMenuItems","roleArray","menuItems","forEach","item","index","subItems","rolesHasPermission","path","enabled","generateMenu","pathname","props","location","map","itemClass","key","className","level","to","name","onClick","e","preventDefault","title","userInfo","this","MENU_ITEMS","Component","withRouter"],"mappings":"8LAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,wJICxFC,G,OAAG,iKAwDL,OAxDK,oCACPC,aAAe,WACbC,IAAKC,UACL,EAEFC,mBAAqB,SAACC,EAAWC,GAC/BA,EAAUC,SAAQ,SAACC,EAAMC,GACnBD,EAAKE,SACP,EAAKN,mBAAmBC,EAAWG,EAAKE,UAEnCR,IAAKS,mBAAmBN,EAAWG,EAAKI,MAK3CJ,EAAKK,SAAU,EAFfL,EAAKK,SAAU,MAMrB,EAEFC,aAAe,SAACR,GACd,IAAQS,EAAa,EAAKC,MAAMC,SAAxBF,SACR,OAAOT,EAAUY,KAAI,SAACV,GACpB,IAAMW,EAAY,aAAeX,EAAKI,OAASG,EAAW,eAAiB,IAG3E,OAFkB,OAAdP,EAAKI,OAAeJ,EAAKI,KAAO,KAEhCJ,EAAKE,SAEL,wBAAIU,IAAKZ,EAAKY,IAAKC,UAAS,UAAKF,EAAS,6BAAqBX,EAAKc,QAClE,kBAAC,IAAI,CAACC,GAAIf,EAAKI,MACZJ,EAAKgB,KAAI,OACV,uBACEH,UAAW,aAAeb,EAAKc,MAAQ,EAAI,iBAAmB,iBAC9DG,QAAS,SAACC,GAAC,OAAKA,EAAEC,qBAGtB,wBAAIP,IAAKZ,EAAKY,IAAKC,UAAWF,EAAY,mBAAqBX,EAAKc,MAAQ,IACzE,EAAKR,aAAaN,EAAKE,YAM5BF,EAAKK,SACH,wBACEO,IAAKZ,EAAKY,IACVC,UAAS,UAAKF,EAAS,iBAASX,EAAKc,MAAK,YAAId,EAAKa,UAAYb,EAAKa,UAAY,IAChFO,MAAOpB,EAAKoB,MAAQpB,EAAKoB,MAAQ,IAEjC,kBAAC,IAAI,CAACL,GAAIf,EAAKI,MAAOJ,EAAKgB,WAMtC,EAyBA,OAzBA,mCAED,WACE,IAAQK,EAAaC,KAAKd,MAAlBa,SACFxB,EAAYwB,EAAWA,EAASxB,UAAY,GAC5CC,EAAS,YAAOyB,KAGtB,OAFAD,KAAK1B,mBAAmBC,EAAWC,GAGjC,yBAAKe,UAAU,iBACb,wBAAIA,UAAU,eAAeS,KAAKhB,aAAaR,IAC/C,yBAAKe,UAAU,qBACXQ,GAAY,kBAAC,IAAI,CAACN,GAAG,UAAQ,SAC9BM,GACC,6BACGA,EAASL,KAAI,KACd,0BAAMH,UAAU,cAAcI,QAASK,KAAK7B,cAAa,UAElD,WAOlB,EAjFM,CAAS+B,cAqFHC,sBAAWjC","file":"static/js/6.520e46ff.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { MENU_ITEMS } from '../../constants/Constants';\nimport { auth } from '../Auth/Auth';\nimport './Nav.scss';\n\nclass Nav extends Component {\n  handleLogout = () => {\n    auth.logout();\n  };\n\n  getActiveMenuItems = (roleArray, menuItems) => {\n    menuItems.forEach((item, index) => {\n      if (item.subItems) {\n        this.getActiveMenuItems(roleArray, item.subItems);\n      } else {\n        if (!auth.rolesHasPermission(roleArray, item.path)) {\n          // ĐỪNG dùng splice, bởi vì JS bất đồng bộ nên sẽ bị lỗi thỉnh thoảng bị miss menu item\n          // menuItems.splice(index, 1);\n          item.enabled = false;\n        } else {\n          item.enabled = true;\n        }\n      }\n    });\n  };\n\n  generateMenu = (menuItems) => {\n    const { pathname } = this.props.location;\n    return menuItems.map((item) => {\n      const itemClass = 'menu-item' + (item.path === pathname ? ' active-menu' : '');\n      if (item.path === null) item.path = '#';\n\n      if (item.subItems) {\n        return (\n          <li key={item.key} className={`${itemClass} menu-parent level${item.level}`}>\n            <Link to={item.path}>\n              {item.name}&nbsp;\n              <i\n                className={'caret fa ' + (item.level > 1 ? 'fa-caret-right' : 'fa-caret-down')}\n                onClick={(e) => e.preventDefault()}\n              ></i>\n            </Link>\n            <ul key={item.key} className={itemClass + ' sub-menu level' + (item.level + 1)}>\n              {this.generateMenu(item.subItems)}\n            </ul>\n          </li>\n        );\n      } else {\n        return (\n          item.enabled && (\n            <li\n              key={item.key}\n              className={`${itemClass} level${item.level} ${item.className ? item.className : ''}`}\n              title={item.title ? item.title : ''}\n            >\n              <Link to={item.path}>{item.name}</Link>\n            </li>\n          )\n        );\n      }\n    });\n  };\n\n  render() {\n    const { userInfo } = this.props;\n    const roleArray = userInfo ? userInfo.roleArray : [];\n    const menuItems = [...MENU_ITEMS];\n    this.getActiveMenuItems(roleArray, menuItems);\n\n    return (\n      <nav className=\"custom-navbar\">\n        <ul className=\"nav-wrapper\">{this.generateMenu(menuItems)}</ul>\n        <div className=\"userinfo-wrapper\">\n          {!userInfo && <Link to=\"/login\">Login</Link>}\n          {userInfo && (\n            <div>\n              {userInfo.name} (\n              <span className=\"logout-link\" onClick={this.handleLogout}>\n                Logout\n              </span>\n              )\n            </div>\n          )}\n        </div>\n      </nav>\n    );\n  }\n}\n\n// Use withRouter HOC in order to inject match, history and location in your component props.\nexport default withRouter(Nav);\n"],"sourceRoot":""}